{% extends "base.html" %}
{% block title %}Admin Portal{% endblock %}
{% block content %}
    <h1>ADMIN PORTAL</h1>
    <h2>Tables</h2>
    <form action="/admin/add-table" method="POST">
        <label for="capacity">Capacity</label>
        <input type="number" name="capacity" id="capacity">
        <button type="submit">Submit</button>
    </form>
    <ul>
        {% for table in tables %}
        <li>
            {{ table.id }} - 
            {{ table.capacity }}  
            <button onClick="deleteTable({{ table.id }})">Delete table</button>
        </li>
        {% endfor %}
    </ul>
    <h2>Reservations</h2>
    <a href="/reserve">Make Reservation</a>
    <ul>
        {% for reservation in reservations %}
        <li>
            {{ reservation.start_time }} 
            {{ reservation.end_time }} 
            {{ reservation.party_size }} 
            {{ reservation.name }} 
            {{ reservation.email }} 
            {{ reservation.phone_number }}
            {{ reservation.user_id }}
            <a href="/edit-reservation/{{ reservation.id }}">Edit</a>
            <button onClick="deleteReservation({{ reservation.id }})">Delete reservation</button>
        </li>
        {% endfor %}
    </ul>
    <h2>Users</h2>
    <a href="/add-user">Add User</a>
    <ul>
        {% for one_user in users %}
        <li>
            {{ one_user.username }} 
            {{ one_user.password }} 
            {{ one_user.email }} 
            {{ one_user.phone_number }} 
            {{ one_user.is_admin }} 
            <a href="/edit-user/{{ one_user.id }}">Edit</a>
            <button onClick="deleteUser({{ one_user.id }})">Delete user</button>
        </li>
        {% endfor %}
    </ul>
{% endblock %}